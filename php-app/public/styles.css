:root{--bg:#f6f7fb;--surface:#ffffff;--surface-alt:#eef1fb;--text:#1c2233;--muted:#7c879c;--accent:#3659f6;--accent-dark:#2544d7;--border:#e4e8f5;--shadow-soft:0 18px 38px rgba(15,23,42,.08);--shadow-medium:0 22px 46px rgba(15,23,42,.1);--ok:#19c37d;--warn:#f5a623;--critical:#e24a4a}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 "Segoe UI",system-ui,-apple-system,sans-serif}
a{color:inherit;text-decoration:none}
a:hover{color:var(--accent)}
.container{max-width:1080px;margin:0 auto;padding:32px 24px}
main.container{padding-top:36px;padding-bottom:60px}

.page-header{display:flex;justify-content:space-between;align-items:flex-end;gap:24px;margin-bottom:28px}
.page-header h1{margin:0;font-size:32px;font-weight:700}
.page-header .page-subtitle{margin:6px 0 0;color:var(--muted);font-size:14px;line-height:1.5}
.page-header .actions{display:flex;gap:12px;flex-wrap:wrap}

.topbar{background:var(--surface);border-bottom:1px solid var(--border);box-shadow:0 16px 34px rgba(15,23,42,.08)}
.topbar .container{display:flex;align-items:center;gap:28px;padding:20px 28px;max-width:1160px}
.topbar .brand{font-size:20px;font-weight:700;letter-spacing:.02em;color:var(--text)}
.nav{display:flex;align-items:center;gap:18px;margin-left:auto;flex-wrap:wrap}
.nav a{padding:8px 14px;border-radius:999px;background:transparent;border:1px solid transparent;transition:all .15s ease;font-weight:500;color:#48506a}
.nav a:hover{border-color:rgba(54,89,246,.3);background:rgba(54,89,246,.08);color:var(--accent)}
.nav .user{color:var(--muted);font-size:14px;padding:0;border:none;background:none}
.nav .logout{border-color:rgba(226,74,74,.18);color:#c13d3d}
.nav .logout:hover{background:rgba(226,74,74,.1);border-color:rgba(226,74,74,.28);color:#a22f2f}

h1{margin:0 0 24px;font-size:32px;font-weight:700}
h2{margin:0 0 16px;font-size:22px;font-weight:600}
.section-title{margin-bottom:12px;font-size:13px;text-transform:uppercase;letter-spacing:.12em;color:var(--muted)}

.cards{display:grid;gap:22px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-bottom:32px}
.card{background:var(--surface);border:1px solid rgba(99,117,164,.12);border-radius:20px;padding:24px;box-shadow:var(--shadow-soft);width:100%}
.card.device-list-card{padding:32px 36px;width:calc(100% + 605px);max-width:calc(100% + 605px);margin-left:-300px;margin-right:-300px;min-width:0;overflow-x:auto}
.grid.two{display:grid;grid-template-columns:1fr 1fr;gap:22px}
.grid.device-split{display:grid;grid-template-columns:2fr 1fr;gap:40px;align-items:start}
.grid.device-split > .card:not(.device-list-card){margin-left:285px}
@media (max-width:900px){.grid.two,.grid.device-split{grid-template-columns:1fr}}

body.login-page,body.register-page{background:linear-gradient(135deg,#f4f8ff 0%,#eef2fa 100%);min-height:100vh}
body.login-page .topbar,body.register-page .topbar{background:transparent;border-bottom:none;box-shadow:none}
body.login-page .topbar .container,body.register-page .topbar .container{max-width:1100px;padding:28px 48px}
body.login-page .nav a,body.register-page .nav a{color:#4a5672}
body.login-page main.container,body.register-page main.container{display:flex;align-items:center;justify-content:center;min-height:calc(100vh - 160px);padding:60px 24px}
.auth-layout{display:grid;grid-template-columns:minmax(320px,420px) minmax(320px,1fr);gap:64px;align-items:center;background:rgba(255,255,255,0.72);backdrop-filter:blur(22px);border:1px solid rgba(99,117,164,.14);border-radius:32px;padding:56px;box-shadow:0 48px 80px rgba(15,23,42,.12);width:100%;max-width:1100px}
.register-layout{grid-template-columns:minmax(320px,1fr) minmax(320px,420px)}
.auth-card{display:flex;flex-direction:column;gap:28px}
.auth-card-header h1{margin:12px 0 8px;font-size:32px;color:var(--text)}
.auth-logo{display:inline-flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:14px;background:rgba(54,89,246,.12);color:var(--accent);font-size:24px;font-weight:700}
.auth-subtitle{margin:0;color:#5a6482;font-size:15px;line-height:1.6}
.auth-alert{margin:0}
.auth-form{display:flex;flex-direction:column;gap:18px}
.auth-form label{font-size:13px;color:#4a5672}
.auth-form input{margin-top:8px}
.auth-meta{display:flex;align-items:center;justify-content:space-between;font-size:13px;color:var(--muted)}
.auth-meta .inline{margin:0;font-size:13px;color:#5d6885}
.auth-meta input[type="checkbox"]{accent-color:var(--accent)}
.auth-footer{text-align:center;font-size:14px;color:#5d6885}
.auth-footer a{color:var(--accent)}
.auth-footer a:hover{color:var(--accent-dark)}
.auth-illustration{display:flex;align-items:center;justify-content:center}
.auth-illustration-inner{position:relative;width:100%;max-width:420px;height:340px;background:linear-gradient(180deg,#f3f6ff 0%,#e7ecfb 100%);border-radius:32px;box-shadow:0 28px 60px rgba(15,23,42,.18);padding:32px;overflow:hidden}
.auth-illustration-inner::after{content:"";position:absolute;right:-50px;bottom:-60px;width:260px;height:260px;background:radial-gradient(circle at center,rgba(54,89,246,.22),rgba(54,89,246,0));border-radius:50%}
.auth-window{position:absolute;top:48px;right:64px;width:120px;height:140px;border:6px solid #20325e;border-radius:18px;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);gap:6px;padding:10px;background:#fdfdff}
.auth-window .pane{background:#e3e9fb;border-radius:8px}
.auth-window .pane:nth-child(3){background:#c3d4fb}
.auth-character{position:absolute;bottom:64px;left:72px;width:180px;height:180px}
.auth-character .head{width:54px;height:54px;background:#dfe5f8;border-radius:50%;position:absolute;top:0;left:48px;box-shadow:0 10px 20px rgba(15,23,42,.12)}
.auth-character .body{position:absolute;top:44px;left:28px;width:140px;height:92px;background:#fff;border-radius:50% 50% 40% 40%;box-shadow:0 18px 38px rgba(15,23,42,.15)}
.auth-character .laptop{position:absolute;top:100px;left:48px;width:110px;height:16px;background:#1f2f57;border-radius:12px 12px 6px 6px}
.auth-plant{position:absolute;bottom:36px;right:48px;width:36px;height:80px;background:linear-gradient(180deg,#2f9e74,#1a7150);border-radius:18px 18px 8px 8px}
.auth-plant::after{content:"";position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:24px;height:14px;border-radius:999px;background:#1b2342}
.auth-lamp{position:absolute;bottom:92px;left:36px;width:8px;height:120px;background:#1b2342;border-radius:4px}
.auth-lamp::before{content:"";position:absolute;top:-28px;left:-20px;width:48px;height:28px;background:#1b2342;border-radius:24px 24px 8px 8px}
.auth-lamp::after{content:"";position:absolute;top:-24px;left:-16px;width:40px;height:20px;background:rgba(54,89,246,.18);border-radius:20px}

table{width:100%;border-collapse:collapse}
th,td{padding:14px 0;border-bottom:1px solid var(--border)}
th{font-size:11px;text-transform:uppercase;letter-spacing:.1em;text-align:left;color:var(--muted);background:transparent}
tbody tr:last-child td{border-bottom:none}
tbody tr:hover td{background:rgba(54,89,246,.06)}
td{font-size:15px;color:var(--text)}
td.empty{text-align:center;padding:28px 0;color:var(--muted)}
.data-table td small{display:block;margin-top:8px;padding-top:4px;border-top:1px solid rgba(99,117,164,.16);font-size:12px;color:var(--muted)}
td.table-actions{padding:18px 0}
td.table-actions .table-actions-inner{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
td.table-actions form{margin:0}
td.table-actions button,td.table-actions .btn{width:auto;padding:10px 16px}
td.table-actions button{white-space:nowrap}
@media(max-width:1200px){
  .card.device-list-card{padding:28px 24px;width:100%;max-width:100%;margin-left:0;margin-right:0}
  .grid.device-split > .card:not(.device-list-card){margin-left:0}
}
@media(max-width:960px){
  .card{min-width:0}
  .auth-layout{grid-template-columns:1fr;gap:32px;padding:40px}
  .auth-illustration-inner{height:280px}
  body.login-page main.container,body.register-page main.container{padding:40px 18px}
}
@media(max-width:640px){
  .auth-layout{padding:28px;border-radius:24px}
  body.login-page .topbar .container,body.register-page .topbar .container{padding:20px 28px}
  .auth-meta{flex-direction:column;align-items:flex-start;gap:10px}
  .auth-subtitle{font-size:14px}
}

label{display:block;margin:12px 0 6px;font-size:14px;color:var(--muted)}
input,select,textarea,button{font:inherit}
input,select,textarea{width:100%;padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:#fff;color:var(--text);transition:border-color .15s ease,box-shadow .15s ease}
input:focus,select:focus,textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 4px rgba(54,89,246,.18)}

.form-card{display:flex;flex-direction:column;gap:20px}
.form-card .grid.two{gap:22px}
.form-card .form-section{display:flex;flex-direction:column;gap:12px}
.form-card .field-note{font-size:12px;color:var(--muted)}
.form-actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
.form-actions button,.form-actions .btn{width:auto}
.checkbox-field{display:flex;align-items:center;gap:10px;padding:12px;border:1px solid var(--border);border-radius:12px;background:#fff;margin-top:8px}
.checkbox-field input[type="checkbox"]{width:18px;height:18px;margin:0}
.checkbox-field span{font-size:14px;color:var(--text)}
.stack-form{display:flex;flex-direction:column;gap:16px}

button{width:100%;padding:12px 16px;border-radius:12px;border:none;cursor:pointer;background:linear-gradient(180deg,var(--accent),var(--accent-dark));color:#fff;font-weight:600;box-shadow:0 18px 32px rgba(54,89,246,.25);transition:transform .12s ease,box-shadow .12s ease}
button:hover{transform:translateY(-1px);box-shadow:0 22px 40px rgba(54,89,246,.28)}
button:active{transform:translateY(0);box-shadow:0 12px 24px rgba(54,89,246,.2)}
.primary-btn{width:auto}
button.secondary{background:#fff;border:1px solid rgba(99,117,164,.28);color:var(--text);box-shadow:none;width:auto;padding:10px 18px}
button.secondary:hover{border-color:var(--accent);color:var(--accent)}
button.danger{width:auto;padding:10px 18px;background:rgba(226,74,74,.12);color:#a22f2f;border:1px solid rgba(226,74,74,.32);box-shadow:none}
button.danger:hover{background:rgba(226,74,74,.16);border-color:rgba(226,74,74,.46)}
button.danger:active{box-shadow:0 10px 22px rgba(226,74,74,.2)}
.btn-secondary{background:#fff;border:1px solid rgba(99,117,164,.28);color:var(--text);box-shadow:none}
.btn-secondary:hover{border-color:var(--accent);color:var(--accent)}

.muted{color:var(--muted);font-size:14px}

.alert{padding:12px 16px;border-radius:14px;margin:16px 0;border:1px solid transparent;background:rgba(54,89,246,.08);color:var(--text)}
.alert.ok{background:rgba(25,195,125,.12);border-color:rgba(25,195,125,.28);color:#0f7d56}
.alert.warn{background:rgba(245,166,35,.14);border-color:rgba(245,166,35,.34);color:#a4630d}
.alert.error{background:rgba(226,74,74,.12);border-color:rgba(226,74,74,.32);color:#a22f2f}

.badge{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:999px;border:1px solid rgba(99,117,164,.24);background:#fff;font-size:12px;color:var(--muted)}
.badge.ok{background:rgba(25,195,125,.12);color:#0f7d56;border-color:rgba(25,195,125,.28)}
.badge.info{background:rgba(54,89,246,.12);color:var(--accent);border-color:rgba(54,89,246,.28)}
.badge.warn{background:rgba(245,166,35,.14);color:#a4630d;border-color:rgba(245,166,35,.32)}
.badge.critical{background:rgba(226,74,74,.12);color:#a22f2f;border-color:rgba(226,74,74,.3)}
.badge[class*='category-']{border-color:rgba(99,117,164,.24);background:#f4f6ff;color:#48506a}

.icon{display:inline-block;margin-right:4px}

.footer{border-top:1px solid var(--border);margin-top:40px;padding:24px 0;color:var(--muted);font-size:14px}

.stat .k{color:var(--muted);font-size:11px;text-transform:uppercase;letter-spacing:.12em}
.stat .v{font-size:34px;font-weight:800;color:var(--text)}

.inline{display:inline-block;margin-right:10px}
.stack-form .inline{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px solid rgba(99,117,164,.22);background:#fff;margin:0 10px 0 0;color:#48506a;font-size:14px}
.stack-form .inline input[type="radio"]{width:auto;margin:0;accent-color:var(--accent)}

.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 18px;border:1px solid rgba(99,117,164,.24);border-radius:999px;color:var(--accent);text-decoration:none;background:#fff;font-weight:500;transition:border-color .15s ease,color .15s ease,box-shadow .15s ease}
.btn:hover{border-color:var(--accent);color:var(--accent-dark);box-shadow:0 12px 24px rgba(54,89,246,.12)}

.chart-placeholder{height:160px;border:1px dashed var(--border);border-radius:14px;display:flex;align-items:center;justify-content:center;margin-top:8px;background:#fff;color:var(--muted)}
.answer{margin-top:12px;white-space:pre-wrap}

.mini-chart{position:relative;display:flex;align-items:flex-end;gap:8px;height:200px;border:1px solid rgba(99,117,164,.14);border-radius:18px;padding:14px 14px 34px;background:linear-gradient(180deg,#f9faff,#eef1fb);margin-top:12px}
.mini-chart .bar{width:14px;background:linear-gradient(180deg,rgba(54,89,246,.85),rgba(54,89,246,.55));border-radius:8px 8px 0 0;transition:height .2s ease,filter .15s ease}
.mini-chart .bar.zero{background:rgba(54,89,246,.16)}
.mini-chart .bar:hover{filter:brightness(1.08)}
.mini-chart-legend{margin-top:8px;color:var(--muted);font-size:12px}
.mini-chart .xlabels{position:absolute;left:10px;right:10px;bottom:8px;display:flex;justify-content:space-between;color:rgba(50,58,77,.6);font-size:10px;pointer-events:none}
.chart-tooltip{position:absolute;pointer-events:none;background:#1b2342;color:#fff;border:none;border-radius:12px;padding:8px 12px;font-size:12px;box-shadow:0 16px 32px rgba(20,27,51,.28);display:none;z-index:10}

.dashboard-intro{display:flex;justify-content:space-between;align-items:flex-start;gap:32px;margin-bottom:36px}
.dashboard-intro h1{margin:0;font-size:32px;font-weight:700}
.page-subtitle{margin:12px 0 0;color:var(--muted);max-width:460px;font-size:15px;line-height:1.5}
.intro-glance{background:var(--surface);border:1px solid rgba(99,117,164,.16);border-radius:18px;padding:18px 22px;text-align:right;box-shadow:var(--shadow-medium);min-width:180px}
.intro-label{display:block;font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}
.intro-value{display:block;margin-top:6px;font-size:34px;font-weight:600;color:var(--accent)}

.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:22px;margin-bottom:40px}
.metric-card{background:var(--surface);border:1px solid rgba(99,117,164,.12);border-radius:20px;padding:24px 26px;display:flex;flex-direction:column;gap:12px;box-shadow:var(--shadow-medium)}
.metric-label{font-size:11px;text-transform:uppercase;letter-spacing:.12em;color:var(--muted)}
.metric-value{font-size:32px;font-weight:700;color:var(--text)}
.metric-meta{font-size:13px;color:var(--muted)}

.dashboard-panels{display:grid;grid-template-columns:1fr 1fr;gap:28px;margin-bottom:32px}
.panel{background:var(--surface);border:1px solid rgba(99,117,164,.12);border-radius:22px;padding:28px;box-shadow:var(--shadow-medium);display:flex;flex-direction:column;gap:20px}
.panel-header{display:flex;flex-direction:column;gap:6px}
.panel-header h2{margin:0;font-size:20px;font-weight:600}
.panel-note{font-size:11px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}
.panel-body{display:flex;flex-direction:column;gap:18px}
.panel-table th,.panel-table td{padding:14px 0}
.panel-result{min-height:24px;font-size:14px}

.insights-form{display:flex;gap:12px;flex-wrap:wrap;align-items:center}

.chart-wrapper{display:flex;flex-direction:column;gap:12px}

@media(max-width:960px){.dashboard-panels{grid-template-columns:1fr}}

@media(max-width:720px){
  .dashboard-intro{flex-direction:column;align-items:flex-start}
  .intro-glance{width:100%;text-align:left;display:flex;justify-content:space-between;align-items:center}
  .intro-value{font-size:32px}
  .nav{gap:12px}
  .topbar .container{padding:18px 20px}
}